
 <!DOCTYPE HTML>
<html lang="zh_CN.UTF-8">
<head>
  <meta charset="UTF-8">
  
    <title>Mihenkii&#39;s tech blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="mihenkii">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="Mihenkii&#39;s tech blog">
<meta property="og:url" content="http://mihenkii.github.io/page/2/index.html">
<meta property="og:site_name" content="Mihenkii&#39;s tech blog">
<meta property="og:locale">
<meta property="article:author" content="mihenkii">
<meta name="twitter:card" content="summary">

    
    <link rel="alternative" href="/atom.xml" title="Mihenkii&#39;s tech blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/%02.css">
<link rel="stylesheet" href="/.css">

<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Mihenkii&#39;s tech blog" title="Mihenkii&#39;s tech blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Mihenkii&#39;s tech blog">Mihenkii&#39;s tech blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:mihenkii.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/29/bashrc_vs_bash_profile/" title="bashrc vs bash_profile" itemprop="url">bashrc vs bash_profile</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2018-07-29T13:04:57.000Z" itemprop="datePublished"> Published 2018-07-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><blockquote>
<p>使用Linux安装软件，有时候需要设置环境变量，有的文档建议设置在.bashrc里， 有的建议.bash_profile里<br>一般都能生效，那么区别是什么呢？</p>
</blockquote>
<h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><blockquote>
<p>.bash_profile is executed for login shells, while .bashrc is executed for interactive non-login shells.</p>
</blockquote>
<p>bash_profile: 登录试shell执行<br>bashrc: 非登录式shell执行</p>
<h4 id="什么是-非-登录试shell"><a href="#什么是-非-登录试shell" class="headerlink" title="什么是(非)登录试shell"></a>什么是(非)登录试shell</h4><p>登录试： 当你敲入用户名和密码登录的终端， 或通过ssh登录机器. .bash_profile会被调用<br>非登录: 当你已经登录了机器，在桌面环境打开终端， 或者在终端里面调用了/bin/bash, 此时.bashrc会被调用</p>
<h4 id="为什么会有这两个文件"><a href="#为什么会有这两个文件" class="headerlink" title="为什么会有这两个文件"></a>为什么会有这两个文件</h4><p>比如，你希望第一次登录机器的时候，想看到机器的负载， 那么把uptime命令写到.bash_profile里面就可以了.<br>如果写到.bashrc里面， 你每次打开终端， 都会看到机器负载。</p>
<h4 id="推荐方法"><a href="#推荐方法" class="headerlink" title="推荐方法"></a>推荐方法</h4><p>当你设置PATH环境变量的时候， 把变量写到.bashrc<br>在.bash_profile里面加载.bashrc</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -f ~/.bashrc ]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h4 id="参考连接"><a href="#参考连接" class="headerlink" title="参考连接"></a>参考连接</h4><p><a target="_blank" rel="noopener" href="http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html">bash_profile_vs</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/bashrc-bash-profile/">bashrc bash_profile</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/28/linux_history/" title="linux history 添加时间" itemprop="url">linux history 添加时间</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2018-07-28T13:04:57.000Z" itemprop="datePublished"> Published 2018-07-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><blockquote>
<p>在Linux上执行history命令默认不现实命令执行时间，对于问题排查不是很友好.<br>通过设置，可以在history命令前面加上命令执行时间</p>
</blockquote>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>bash</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HISTTIMEFORMAT=%Y-%m-%d %H:%M:%S</span><br><span class="line">HISTSIZE=1000 <span class="comment"># 历史命令数量</span></span><br></pre></td></tr></table></figure>

<p>zsh</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HIST_STAMPS=<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br><span class="line">HISTSIZE=50000</span><br></pre></td></tr></table></figure>

<p>加载配置</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment">#zsh</span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">history</span><br><span class="line">1  2018-07-28 16:36:10  cd /opt/workspace</span><br><span class="line">2  2018-07-28 16:36:20  vim linux_history.md</span><br><span class="line">3  2018-07-28 16:36:33  env</span><br><span class="line">4  2018-07-28 16:36:40  vim linux_history.md</span><br><span class="line">5  2018-07-28 16:37:52  ls</span><br><span class="line">6  2018-07-28 16:37:56  hexo server</span><br><span class="line">7  2018-07-28 16:38:19  ls</span><br><span class="line">8  2018-07-28 16:38:21  vim linux_history.md</span><br><span class="line"></span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/linux-history-stamp/">linux history stamp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/13/docker_config/" title="Docker配置" itemprop="url">Docker配置</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-11-13T14:04:57.000Z" itemprop="datePublished"> Published 2017-11-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><blockquote>
<p>配置docker registry 加速docker</p>
</blockquote>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://registry.docker-cn.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启docker</span></span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"><span class="comment"># 查看镜像是否加载，我本机没有加载成功</span></span><br><span class="line">sudo docker info</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker pull ubuntu:14.04</span><br><span class="line">docker image ls <span class="comment"># 查看本地镜像</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="启动实例"><a href="#启动实例" class="headerlink" title="启动实例"></a>启动实例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run ubuntu:14.04 # 如果本地没有这个image， 会从镜像仓库拉取并启动</span><br><span class="line">docker run -it ubuntu:14.04 /bin/bash  # 启动并进入到实例</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="退出实例"><a href="#退出实例" class="headerlink" title="退出实例"></a>退出实例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入exit 或者ctrl+d 都会退出实例</span><br><span class="line">如果想退出且不停止实例， 使用ctrl+p+q组合键退出</span><br></pre></td></tr></table></figure>

<h4 id="登录实例"><a href="#登录实例" class="headerlink" title="登录实例"></a>登录实例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker [container] exec -it $containerId /bin/bash # 新启动一个bash</span><br><span class="line">docker [container] attach $containerId  #登录到旧的tty</span><br></pre></td></tr></table></figure>

<h4 id="制作镜像"><a href="#制作镜像" class="headerlink" title="制作镜像"></a>制作镜像</h4><p>新建一个目录，创建 Dockerfile</p>
<p>docker build -t 镜像名 .<br>docker run -p4000:80 镜像名<br>docker tag 镜像名 用户名/repository:tag<br>docker login # 输入用户名不带邮箱后缀</p>
<p>docker push 用户名/repository:tag</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/docker-centos/">docker centos</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/11/13/docker_install/" title="Docker环境搭建" itemprop="url">Docker环境搭建</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-11-13T13:04:57.000Z" itemprop="datePublished"> Published 2017-11-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><blockquote>
<p>Centos : Centos7 64位<br>docker-ce: Docker-ce-17</p>
</blockquote>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1.卸载本地原有docker</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker-common docker-selinux docker-engine</span><br></pre></td></tr></table></figure>

<p>2.安装docker依赖软件和yum源</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install yum-utils</span><br><span class="line">sudo yum install device-mapper-persistent-data</span><br><span class="line">sodu yum instlal lvm2</span><br><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sudo yum install docker-ce</span><br></pre></td></tr></table></figure>

<p>3.启动docker</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<p>4.验证docker</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure>

<p>5.添加运行docker账号</p>
<blockquote>
<p>docker的daemno会启动一个socket，只有root和docker组用户可以访问， 普通账号无法访问<br>所以需要把普通用户添加到docker组才可以访问</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker</span><br><span class="line">sudo usermod -aG docker work</span><br></pre></td></tr></table></figure>

<p>6.设置开启启动</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://docs.docker.com/">参考文档</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/docker-centos/">docker centos</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/23/pythonenv/" title="python 环境搭建" itemprop="url">python 环境搭建</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-10-23T15:04:57.000Z" itemprop="datePublished"> Published 2017-10-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><blockquote>
<p>pyenv : 管理多个Python版本， 是从rbevn(管理多个ruby版本)改造来的<br>virtualenv: 管理工作空间的python环境， 可以让每个app的python环境相互隔离, 相当于给每个app都复制一份python</p>
</blockquote>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><blockquote>
<p>pyenv 已经集成了 virtualenv， 所以不需要单独安装virtualenv了.</p>
</blockquote>
<p>安装pyenv比较简单</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载到本地:</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/pyenv/pyenv.git ~/.pyenv</span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#x27;</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="comment"># 加载环境变量</span></span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pyenv install --list <span class="comment">#查看可安装python版本</span></span><br><span class="line">pyenv install 2.7.12</span><br><span class="line">pyenv <span class="built_in">local</span> 2.7.12 <span class="comment"># 将本地设置成2.7.12版本</span></span><br><span class="line">pyenv global 2.7.12 <span class="comment"># 将系统设置成2.7.12版本</span></span><br><span class="line">pyenv <span class="built_in">local</span> system <span class="comment"># 将本地设置成系统默认版本</span></span><br></pre></td></tr></table></figure>

<p>卸载 pyenv</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf $(pyenv root)</span><br></pre></td></tr></table></figure>

<h4 id="virtualenv"><a href="#virtualenv" class="headerlink" title="virtualenv"></a>virtualenv</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pyenv virtualenv 2.7.12 VENV27 <span class="comment"># 将会在pyenv的version目录下新建一个VENV27的python环境</span></span><br><span class="line"></span><br><span class="line">pyenv activate VENV27 <span class="comment"># 使用VENV27环境</span></span><br><span class="line">pyenv deactivate VENV27 <span class="comment"># 退出VENV27环境</span></span><br></pre></td></tr></table></figure>

<h4 id="设置pip源"><a href="#设置pip源" class="headerlink" title="设置pip源"></a>设置pip源</h4><blockquote>
<p>国内访问pip默认源超时严重， 建议设置阿里或豆瓣的pip源</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.pip/pip.conf</span><br><span class="line">[global]</span><br><span class="line">    trusted-host =  mirrors.aliyun.com</span><br><span class="line">    index-url = http://mirrors.aliyun.com/pypi/simple</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/pyenv-virtualenv/">pyenv virtualenv</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/15/su-user-nopassword/" title="Linux su nopassword" itemprop="url">Linux su nopassword</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-07-15T03:24:57.000Z" itemprop="datePublished"> Published 2017-07-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="Linux-普通用户su到另一个普通用户"><a href="#Linux-普通用户su到另一个普通用户" class="headerlink" title="Linux 普通用户su到另一个普通用户"></a>Linux 普通用户su到另一个普通用户</h4><blockquote>
<p>工作中很少使用root用户，存在使用个人用户，切换到work账户的场景<br>比如我的个人账户是mihenkii， 要切换的目标账户是work</p>
</blockquote>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo vim /etc/pam.d/su</span><br><span class="line"></span><br><span class="line">auth       [success=ignore default=1] pam_succeed_if.so user = work</span><br><span class="line">auth       sufficient   pam_succeed_if.so use_uid user = mihenkii</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解释:  第一行是确定目标用户是work，如果是work，且调用的用户是mihenkii，那么第二行mihenkii会成功授权切换到work</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="参考连接"><a href="#参考连接" class="headerlink" title="参考连接"></a>参考连接</h4><p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/113754/allow-user1-to-su-user2-without-password">stackexchange</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/linux/">linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/11/dir-color/" title="Linux 目录颜色" itemprop="url">Linux 目录颜色</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-06-11T03:24:57.000Z" itemprop="datePublished"> Published 2017-06-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h4 id="Linux-终端ls目录带有颜色"><a href="#Linux-终端ls目录带有颜色" class="headerlink" title="Linux 终端ls目录带有颜色"></a>Linux 终端ls目录带有颜色</h4><blockquote>
<p>新装的Linux系统， 执行ls的时候默认没有颜色，不够美观</p>
</blockquote>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><p>ls增加 —color=auto 参数</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;alias ls=&#x27;ls --color=auto&#x27;&quot;</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>—color=auto 这种方式会使部分文件显示带有色彩，但是仍然不够</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;LS_COLORS=<span class="variable">$LS_COLORS</span>:&#x27;fi=00:di=00;34:ln=00;36:pi=40;33:so=00;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=00;32:*.exe=00;32:*.sh=00;32:*.csh=00;32:*.tar=00;31:*.tgz=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.bz=00;31:*.tz=00;31:*.rpm=00;31:*.jpg=00;35:*.gif=00;35:*.bmp=00;35:*.xbm=00;35:*.xpm=00;35:*.png=00;35:*.tif=00;35:*.md=00;32:&#x27;&quot;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>di=00;34:<br>[文件类型]=[字体];[颜色]:<br>详细可选参数列表<br>di = directory<br>fi = file<br>ln = symbolic link<br>pi = fifo file<br>so = socket file<br>bd = block (buffered) special file<br>cd = character (unbuffered) special file<br>or = symbolic link pointing to a non-existent file (orphan)<br>mi = non-existent file pointed to by a symbolic link (visible when you type ls -l)<br>ex = file which is executable (ie. has ‘x’ set in permissions).<br>0 = default colour<br>1 = bold<br>4 = underlined<br>5 = flashing text<br>7 = reverse field<br>31 = red<br>32 = green<br>33 = orange<br>34 = blue<br>35 = purple<br>36 = cyan<br>37 = grey<br>40 = black background<br>41 = red background<br>42 = green background<br>43 = orange background<br>44 = blue background<br>45 = purple background<br>46 = cyan background<br>47 = grey background<br>90 = dark grey<br>91 = light red<br>92 = light green<br>93 = yellow<br>94 = light blue<br>95 = light purple<br>96 = turquoise<br>100 = dark grey background<br>101 = light red background<br>102 = light green background<br>103 = yellow background<br>104 = light blue background<br>105 = light purple background<br>106 = turquoise background</p>
<h4 id="参考连接"><a href="#参考连接" class="headerlink" title="参考连接"></a>参考连接</h4><p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/466198/how-do-i-change-the-color-for-directories-with-ls-in-the-console">askubuntu</a></p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_0.png" alt="gimp文字倒影"></p>
<p>本文用了相对简单易懂的方式实现了文字倒影。<br>还有一种方式是在“倒影”图像是用“橡皮”擦出倒影效果，这里不推荐。</p>
<h2 id="Step-by-step"><a href="#Step-by-step" class="headerlink" title="Step by step"></a>Step by step</h2><p>1 Ctrl + n  新建一个空白图形，设置合适的大小</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_1.png" alt="gimp 新建图像"></p>
<p>2 选择文字工具， 写下自己想要设计的文字，并调整大小，个人喜欢用75的大小</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_2.png" alt="gimp文字工具"></p>
<p>3 选中文字，设置文字颜色，并记住文字颜色(这个颜色后面会用到)</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_3.png" alt="gimp设置文字颜色"></p>
<p>4 复制图层，用来做”倒影”</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_4.png" alt="复制图层"></p>
<p>5 移动复制的图层到原图的正下方</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_5.png" alt="gimp移动工具"></p>
<p>6 翻转图形， 并在此调整文字位置，移动翻转后的图形到原图的正下方</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_6.png" alt="gimp翻转图形"></p>
<p>7 制作倒影, 如图：首先在倒影的图层上点击”锁定Alpha通道”, 然后点击”左侧黑色”, 设置颜色和文字一致。</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_7.png" alt="gimp混合工具"></p>
<p>8 图像合并</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_reflect_8.png" alt="合并图像"></p>
<p>参考连接：<br><a target="_blank" rel="noopener" href="http://gimp-tutorials.net/node/236">gimp-tutorials.net</a></p>
<p><a target="_blank" rel="noopener" href="http://gimp-tutorials.net/node/91">gimp-tutorials.net</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/linux/">linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/06/11/win7centos7/" title="win7上安装centos7双系统" itemprop="url">win7上安装centos7双系统</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2017-06-11T03:04:57.000Z" itemprop="datePublished"> Published 2017-06-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>09年的笔记本电脑，CPU: 奔腾T4200不支持vt-x, 无法在Virtual Box中安装64位Centos系统</p>
</blockquote>
<h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><ol>
<li>8G U盘</li>
<li>UltraISO 用来制作启动盘</li>
<li>CentOS.iso</li>
<li>分区助手(其实没有真正用到)</li>
</ol>
<h4 id="操作过程"><a href="#操作过程" class="headerlink" title="操作过程"></a>操作过程</h4><ol>
<li>清理一块硬盘分区来安装系统</li>
<li>1 [计算机]-右键[管理]-[磁盘管理]-[删除卷]. 这个删除的卷，就是准备安装Centos的位置</li>
<li>制作U盘系统盘</li>
<li>1 将CentOS镜像下载到本地, 我选择的是：CentOS-7-x86_64-DVD-1611.iso</li>
<li>2 将U盘插到电脑，打开UltraISO, 打开下载的ISO文件, 然后选择[启动] - [写入硬盘映像] 写入方式选择[USB-HDD+]</li>
<li>3 等待10分钟左右系统盘制作完成</li>
<li>安装系统</li>
<li>1 开启按F2, 进入Bios页面, boot选择从usb启动, 如果运气好，就可以直接安装系统</li>
</ol>
<h4 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h4><ol>
<li>centos7 failed to start switch root</li>
</ol>
<p>安装系统遇到上面的错误很常见, 网上给出的解决办法：<br>将 vmlinuz initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 quiet<br>改为 vmlinuz initrd=initrd.img inst.stage2=hd:/dev/sdb4 quiet</p>
<blockquote>
<p>/dev/sdb4代表你的U盘(有的文章说是准备安装系统的盘，描述不准确)<br>Note 引用RedHat官网介绍<br>By default, the inst.stage2= boot option is used on the installation media and set to a specific label (for example, inst.stage2=hd:LABEL=RHEL7\x20Server.x86_64). If you modify the default label of the file system containing the runtime image, or if using a customized procedure to boot the installation system, you must ensure this option is set to the correct value.</p>
</blockquote>
<p>如果不确定U盘到底是/dev/sdxx, 可以用另一种解决方法：<br>inst.stage2=hd:LABEL=分区卷标(注意LABEL这单词不能删除掉)<br>通过上面提到的分区助手可以修改[分区卷标], 打开软件，在U盘上[右键]-[设置卷标]即可</p>
<p>我用的命令是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vmlinuz initrd=initrd.img inst.stage2=hd:LABEL=CentOS7 quiet   # 区分大小写</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="设置grub2"><a href="#设置grub2" class="headerlink" title="设置grub2"></a>设置grub2</h4><p>在centos的/boot/grub2/grub.cfg</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">menuentry <span class="string">&quot;Windows 7&quot;</span> &#123;   <span class="built_in">set</span> root=<span class="string">&#x27;(hd0,1)&#x27;</span></span><br><span class="line">   chainloader +1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h4><p><a target="_blank" rel="noopener" href="http://www.osyunwei.com/archives/7829.html">http://www.osyunwei.com/archives/7829.html</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/txl199106/article/details/41344399">http://blog.csdn.net/txl199106/article/details/41344399</a><br><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/chap-anaconda-boot-options.html#list-boot-options-sources">redhat</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/win7-centos7/">win7 centos7</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/10/02/favicon/" title="favicon" itemprop="url">favicon</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2015-10-02T03:33:32.000Z" itemprop="datePublished"> Published 2015-10-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="本文介绍如何使用gimp制作favcion"><a href="#本文介绍如何使用gimp制作favcion" class="headerlink" title="本文介绍如何使用gimp制作favcion"></a>本文介绍如何使用gimp制作favcion</h2><p>1, 选取素材, 在网上随便找一个截图</p>
<p>2, 通过”剪刀”工具将所需的部分剪切出来， 并复制到一个透明的面板上</p>
<p>2, 点击”图像” -&gt; “scale image” :将素材制作成多种大小的，比如：128x128 64x64 32x32 24x4 16x16<br>   我这里只是网站需要，就做成了32x32  24x24 16x16 三种大小的</p>
<p>3,打开32*32的图像，然后通过”Open as Layers”的方式同时打开另外两个图片， 从大到小排列</p>
<p>4, export as 选择ico格式， 上传都网站即可</p>
<p>参考<a target="_blank" rel="noopener" href="http://thenewcode.com/467/Creating-Multi-Resolution-Favicons-For-Web-Pages-With-GIMP">Creating Multi-Resolution Favicons For Web Pages With GIMP</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/favicon/">favicon</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/09/28/gimp-golden-font/" title="gimp土豪金字体" itemprop="url">gimp土豪金字体</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="mihenkii" target="_blank" itemprop="author">mihenkii</a>
		
  <p class="article-time">
    <time datetime="2015-09-28T03:03:13.000Z" itemprop="datePublished"> Published 2015-09-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="gimp制作土豪金字体图像"><a href="#gimp制作土豪金字体图像" class="headerlink" title="gimp制作土豪金字体图像"></a>gimp制作土豪金字体图像</h2><p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_0.png" alt="效果图"></p>
<p>在网上看到有人用PS做了漂亮的土豪金字体，决定用gimp也实现一个</p>
<blockquote>
<p>实现土豪金字体有两个点:<br>1, 制作出金色的渐变工具<br>2, 字体加上特效</p>
</blockquote>
<h4 id="Step-by-step"><a href="#Step-by-step" class="headerlink" title="Step by step"></a>Step by step</h4><p>1 Ctrl + o 打开模板, 通过“颜色拾取”工具选择实例图片中的颜色</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_2.png" alt="选择颜色"><br><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_3.png" alt="选择颜色2"></p>
<p>2 记住这个颜色， 用作渐变的最左端点颜色</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_4.png" alt="新建渐变"><br><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_5.png" alt="编辑渐变"><br><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_6.png" alt="设置渐变颜色"></p>
<p>3 用同样的方式选择示例中的深一点的金色，用到渐变的右端点颜色</p>
<p>4 将新建的渐变规则命名“golden”</p>
<p>5 选择文字工具写下文字，并设置大小</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_1.png" alt="编辑文字"></p>
<p>6 使用“混合”工具, 并选择我们已经制作的“golden”规则， 设置合适的渐变， 此时图像基本可以用了</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_7.png" alt="设置土豪金渐变"></p>
<p>7 最后给文字制作个投影或者其他效果</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_8.png" alt="投影特效"><br><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_9.png" alt="设置投影参数"> </p>
<p>8 效果图</p>
<p><img src="http://7xij29.com1.z0.glb.clouddn.com/gimp_golden_font_10.png" alt="效果"></p>
<p>参考文档：<br><a target="_blank" rel="noopener" href="http://www.gimpology.com/submission/view/gold_text_effect/">http://www.gimpology.com/submission/view/gold_text_effect/</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/gimp/">gimp</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/">&lt;span&gt;&lt;&#x2F;span&gt;Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next&lt;span&gt;&lt;&#x2F;span&gt;</a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/gimp/" title="gimp">gimp<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/docker-centos/" title="docker centos">docker centos<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/bashrc-bash-profile/" title="bashrc bash_profile">bashrc bash_profile<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker-delete-image/" title="docker-delete-image">docker-delete-image<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/favicon/" title="favicon">favicon<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/golang/" title="golang">golang<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/github-blog-hexo-jekyll/" title="github blog hexo jekyll">github blog hexo jekyll<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/bash-java-c-python-Hello-World/" title="bash java c python Hello World">bash java c python Hello World<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/hexo-posts-pages/" title="hexo posts pages">hexo posts pages<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/pyenv-virtualenv/" title="pyenv virtualenv">pyenv virtualenv<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/linux-history-stamp/" title="linux history stamp">linux history stamp<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/gimp-GIMP-教程/" title="gimp GIMP 教程">gimp GIMP 教程<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/win7-centos7/" title="win7 centos7">win7 centos7<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Ubuntu20-04-VNC/" title="Ubuntu20.04 VNC">Ubuntu20.04 VNC<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/webrtc-ios-video-orientation/" title="webrtc ios video orientation">webrtc ios video orientation<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/数据结构与算法/" title="数据结构与算法">数据结构与算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/secert-ssl/" title="secert ssl">secert ssl<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nginx-https-letsencrypt/" title="nginx https letsencrypt">nginx https letsencrypt<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2022 
		
		<a href="/about" target="_blank" title="mihenkii">mihenkii</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
